// Script by Julien Henrotte
// 2013 For Sagacify.com
//replace empty profile picture
function createCanvas(){$("img").each(function(){if($(this).attr("data-image")==0){fullName=$(this).attr("alt");createInitiale($(this),$(this).width(),$(this).height(),"Calibri",fullName)}})}function createInitiale(e,t,n,r,i){var s=document.createElement("canvas"),o=i;s.width=t,s.height=n;var u=s.width/2+"px",a=o.split(" ").slice(0,-1).join(" ").charAt(0),f=o.split(" ").slice(-1).join(" ").charAt(0);if(a=="")var l=f,c=f.charCodeAt(0)%10;else var l=a+f,c=(a.charCodeAt(0)+f.charCodeAt(0))%10;var h=["#FFD213","#cc3333","#4DBA61","#8B2786","#A85B34","#ff6600","#0099cc","#3A4769","#433225","#35384D"],p=s.getContext("2d"),d=s.width/2,v=s.height/2;p.font=u+" "+r;p.textAlign="center";p.textBaseline="middle";var m=h[c].replace("#","");p.fillStyle=isTooLightYIQ(m)?"#31323a":"#fff";p.fillText(l,d,v);s=s.toDataURL();e.css({"background-color":h[c]});e.attr("src",s)}function isTooLightYIQ(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2,2),16),r=parseInt(e.substr(4,2),16),i=(t*299+n*587+r*114)/1e3;return i>=128}createCanvas();